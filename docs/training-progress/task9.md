## Tasks of Module 9 (Docker and AWS Elastic Beanstalk)

---

### Task 9.1

- [x] The nestJs cart-orders-service RDS application from Task 8 is used
- [x] **Created** Dockerfile that will build a docker image to run the Cart Service.
- [x] Added `.dockerignore` file to minimize build context.
- [x] Files and folders generated by the application or npm are excluded.

**Optimize** your image/container

- [x] Minimize docker image size to be `less than 500 MB`.
- [x] Optimize image build times. Dockerfile commands that run npm install should not depend on typescript files.
- [x] _OPTIONAL: Minimize docker image size to `about 100 MB`._
- [x] _OPTIONAL: Optimize build times by utilizing multistage builds._
- [x] _OPTIONAL: Lint Dockerfile._

### Task 9.2

1. Prepare Cart Service infrastructure with Elastic Beanstalk.

- [x] **Use** a `Dockerfile` from previous subtask to deploy your Cart Service using AWS Beanstalk CLI.
- [x] **Initiate** an Elastic Beanstalk application using the `eb init` command. Application name must follow the
  following convention `{yours_github_account_login}-cart-api`.
- [x] **Create** a new environment using the `eb create` command. An environment name must be short _but not less then
  four signs_ (e.g _develop_, _test_, _prod_, etc). Use the `--cname`
  option `{yours_github_account_login}-cart-api-{environment_name}` so that Elastic Beanstalk will use it to create a
  proper domain name. Use the `--single` option to not use any Load Balancer for this environment.

2. Deploy Cart Service with Elastic Beanstalk

- [x] **Investigate** AWS Elastic Beanstalk service in the AWS Console.
- [x] **Walk through** EC2 resources that were created by Elastic Beanstalk
- [x] **Update** the app and deploy changes using the `eb deploy` command.

3. Update FE app

- [x] **Pull** the latest version of the app from repo
- [x] **Replace** Cart Service placeholder in `src/constants/apiPaths.ts` using a Cart Service API URL you get after
  successful deployment.
- [x] **Make sure** your app starts to call Cart Service API when you add or remove items.
- [x] _NOTE: Now after page refresh cartâ€™s content might remain the same._

## Evaluation criteria (70 points for covering all criteria)

---

- [x] `Dockerfile` is prepared, image is building. Image size is minimized to be less than 500 MB.
- [x] `Dockerfile` is optimized. Files that change more often and commands that depend on them should be included later,
  files and commands that change less should be at the top.
- [x] Folders are added to .dockerignore, with explanations. At least 2 big directories should be excluded from build
  context. Elastic Beanstalk application is initialized.

## Additional (optional) tasks

---

- [x] **15** - Environment is created and the app is deployed to the AWS cloud. You must provide a link to your GitHub
  repo
  with Cart Service API or PR with created `Dockerfile` and related configurations.
- [x] **15** - FE application is updated with Cart API endpoint. You must provide a PR with updates in your FE
  repository
  and OPTIONALLY link to deployed front-end app which makes proper API calls to your Cart Service.
